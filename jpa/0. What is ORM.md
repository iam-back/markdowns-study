# ORM 은 무엇인가

---

> ***Note*** <br>
> 이하 내용은 https://hibernate.org/orm/ 의 내용을 papago 로 번역한 것임을 알려드립니다

## 0. Persistence : 영속성

Hibernate ORM 은 애플리케이션이 persistence 를 수행할 수 있도록 지원한다. 그렇다면 persistence 란 무엇인가?

> ***Persistence : 영속성*** <br>
> Persistence 는 단순히 말해서 애플리케이션 내에서 존재하는 데이터를 외부에서도 존재할 수 있도록 하는 것을 말한다.
> Java 진영의 용어를 빌리자면, 우리는 객체의 상태가 JVM 의 범위를 넘어서 존재하길 바라며, 이후에도 동일한 상태를 사용하기를 바란다는 것이다.
> (다시 말해, 메모리 밖에서 존재하길 바란다는 의미)

## 1. Relational Database : 관계형 데이터베이스

특히, Hibernate ORM 은 관계형 데이터베이스(RDBMS) 의 데이터 영속성에 대해 다룬다.
객체지향 애플리케이션 세계에서는 종종 RDBMS 의 대체제로 객체지향 데이터베이스(ODBMS) 의 사용에 대해 논의가 이루어지지만 여기서는 다루지 않는다.
RDBMS 는 인기있는 영속성 메커니즘이며, 앞으로도 그럴 가능성이 있기 떄문이다.

## 2. Object-Relational Paradigm Mismatch : 객체-관계 패러다임 불일치

RDBMS 는 데이터를 표의 형식으로 나타내는 반면, Java 와 같은 객체 지향 언어는 그것을 상호 연결된 객체의 그래프로 나타낸다. 표 형식의 관계형 데이터베이스를 사용하여 객체의 그래프를 로드하고 저장하면 5가지 불일치 문제가 발생한다.

### 2.1 Granularity : 세밀도

때때로 데이터베이스의 테이블 수보다 클래스가 더 많은 객체 모델을 가질 수 있다. (이 경우 우리는 객체 모델이 관계 모델보다 세분화되었다고 말한다)

### 2.2 Subtypes (Inheritance) : 하위 타입 (상속)

상속은 객체지향 프로그래밍 언어에서는 자연스러운 패러다임이다. 그러나 RDBMS 는 전체적으로 유사한 것을 정의하지 않는다. (몇몇의 데이터베이스는 지원하나 공식적인 표준은 아님을 알려둔다)

### 2.3 Identity

RDBMS 는 유일성을 보장하기 위해 primary key (기본키) 를 정의한다. 하지만 Java 에서는 a == b 와 a.equals(b) 모두 같은 객체로 정의한다

### 2.4 Associations

연결은 객체지향 언어에서 단방향 참조로 표현되는 반면 RDBMS 는 foreign key (외래키) 의 개념을 사용한다. Java 에서 양방향 관계가 필요한 경우 연결을 두 번 정의해야 한다. 마찬가지로, 객체 도메인 모델을 통해 관계의 다양성을 결정할 수 없다.

### 2.5 Data navigation

Java 와 RDBMS 에서의 데이터 접근 수행 방식은 근본적으로 다르다. Java 에서는 객체의 연결을 통해 데이터 탐색이 이루어지지만 이는 RDBMS 에서는 비효율적인 방법이 아닐 수 없다.